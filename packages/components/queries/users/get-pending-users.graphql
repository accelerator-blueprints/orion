query getPendingUsers(
  $limit: Int!
  $offset: Int!
  $orderBy: user_order_by!
  $emailFilter: String!
) {
  user(
    where: { pending: { _eq: true }, email: { _ilike: $emailFilter } }
    limit: $limit
    offset: $offset
    order_by: [$orderBy]
  ) {
    id
    signupRequest
    email
    pending
    user_groups {
      group {
        id
        name
      }
    }
    user_roles {
      role {
        name
      }
    }
  }
  field_aggregate: user_aggregate(
    where: { pending: { _eq: true }, email: { _ilike: $emailFilter } }
  ) {
    aggregate {
      count
    }
  }
}
