- args:
    sql: ALTER TABLE "public"."article" ADD COLUMN "body" text;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "recommended" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "image" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "title" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "subtitle" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE ONLY "public"."article" ALTER COLUMN "fields" DROP DEFAULT;
  type: run_sql
- args:
    sql: ALTER TABLE ONLY "public"."article" ALTER COLUMN "updated_at" DROP DEFAULT;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "summary" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ALTER COLUMN "published_at" SET NOT NULL;
  type: run_sql
- args:
    sql: ALTER TABLE ONLY "public"."article" ALTER COLUMN "path" DROP DEFAULT;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ADD COLUMN "visible_to" integer;
  type: run_sql
- args:
    sql: ALTER TABLE "public"."article" ADD FOREIGN KEY ("visible_to") REFERENCES
      "public"."role" ("id")
  type: run_sql
- args:
    name: visibleTo
    table:
      name: article
      schema: public
    using:
      foreign_key_constraint_on: visible_to
  type: create_object_relationship
- args:
    relationship: createdBy
    table:
      name: article
      schema: public
  type: drop_relationship
- args:
    sql: alter table "public"."article" rename column "created_by_id" to "author_id";
  type: run_sql
- args:
    name: author
    table:
      name: article
      schema: public
    using:
      foreign_key_constraint_on: author_id
  type: create_object_relationship

