- args:
    sql: CREATE TABLE "public"."category"("id" serial NOT NULL, "group_id" integer
      NOT NULL, "name" text NOT NULL, PRIMARY KEY ("id") );
  type: run_sql
- args:
    name: category
    schema: public
  type: add_existing_table_or_view

- args:
    sql: CREATE TABLE "public"."category_group"("id" serial NOT NULL, "name" text
      NOT NULL, PRIMARY KEY ("id") );
  type: run_sql
- args:
    name: category_group
    schema: public
  type: add_existing_table_or_view

- args:
    sql: ALTER TABLE "public"."category" ADD FOREIGN KEY ("group_id") REFERENCES "public"."category_group"
      ("id")
  type: run_sql

- args:
    name: group
    table:
      name: category
      schema: public
    using:
      foreign_key_constraint_on: group_id
  type: create_object_relationship

- args:
    name: categories
    table:
      name: category_group
      schema: public
    using:
      foreign_key_constraint_on:
        column: group_id
        table:
          name: category
          schema: public
  type: create_array_relationship

- args:
    sql: CREATE TABLE "public"."article_category"("id" serial NOT NULL, "article_id"
      integer NOT NULL, "category_id" integer NOT NULL, PRIMARY KEY ("id") );
  type: run_sql
- args:
    name: article_category
    schema: public
  type: add_existing_table_or_view

- args:
    sql: ALTER TABLE "public"."article_category" ADD FOREIGN KEY ("article_id") REFERENCES
      "public"."article" ("id")
  type: run_sql

- args:
    sql: ALTER TABLE "public"."article_category" ADD FOREIGN KEY ("category_id") REFERENCES
      "public"."category" ("id")
  type: run_sql

- args:
    name: categories
    table:
      name: article
      schema: public
    using:
      foreign_key_constraint_on:
        column: article_id
        table:
          name: article_category
          schema: public
  type: create_array_relationship
