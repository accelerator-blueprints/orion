{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "definitions",
  "$id": "https://www.nearform.com/schemas/definitions.json",
  "description": "common types used across validation schemas",
  "definitions": {
    "key": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_-]+$"
    },
    "name": {
      "type": "string",
      "minLength": 1
    },
    "guidance": {
      "type": "string"
    },
    "translation": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "description": {
          "type": "string",
          "minLength": 1
        }
      },
      "additionalProperties": false,
      "required": [
        "name",
        "description"
      ]
    },
    "translations": {
      "type": "object",
      "patternProperties": {
        "^[a-z]{2}$": {
          "$ref": "definitions.json#/definitions/translation"
        }
      }
    },
    "partTableColumn": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        }
      },
      "required": [
        "name",
        "key"
      ]
    },
    "partTable": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "columns": {
          "type": "array",
          "uniqueItems": true,
          "items": [
            {
              "$ref": "definitions.json#/definitions/partTableColumn"
            }
          ]
        }
      },
      "required": [
        "name",
        "key"
      ]
    },
    "feedbackTable": {
      "type": "object",
      "properties": {
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "columns": {
          "type": "array",
          "items": [
            {
              "$ref": "definitions.json#/definitions/partTableColumn"
            }
          ]
        }
      },
      "required": [
        "key",
        "columns"
      ]
    },
    "partCriteria": {
      "type": "object",
      "properties": {
        "guidance": {
          "$ref": "definitions.json#/definitions/guidance"
        },
        "tables": {
          "type": "array",
          "minItems": 1,
          "items": [
            {
              "$ref": "definitions.json#/definitions/partTable"
            }
          ]
        },
        "feedbackTables": {
          "type": "array",
          "minItems": 1,
          "items": [
            {
              "$ref": "definitions.json#/definitions/feedbackTable"
            }
          ]
        }
      },
      "required": [
        "tables"
      ]
    },
    "pillarScore": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "description": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "key"
      ]
    },
    "pillarCriteria": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "guidance": {
          "$ref": "definitions.json#/definitions/guidance"
        },
        "translations": {
          "$ref": "definitions.json#/definitions/translations"
        },
        "parts": {
          "type": "array",
          "uniqueItems": true,
          "items": [
            {
              "$ref": "definitions.json#/definitions/partCriteria"
            }
          ]
        }
      },
      "required": [
        "name",
        "key",
        "parts"
      ]
    },
    "pillarScoring": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "scores": {
          "type": "array",
          "items": [
            {
              "$ref": "definitions.json#/definitions/pillarScore"
            }
          ]
        }
      },
      "required": [
        "name",
        "key",
        "scores"
      ]
    },
    "pillar": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        },
        "criteria": {
          "type": "array",
          "uniqueItems": true,
          "items": [
            {
              "$ref": "definitions.json#/definitions/pillarCriteria"
            }
          ]
        },
        "scoring": {
          "type": "array",
          "items": [
            {
              "$ref": "definitions.json#/definitions/pillarScoring"
            }
          ]
        }
      },
      "required": [
        "name",
        "key",
        "criteria"
      ]
    },
    "keyInfoItem": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "definitions.json#/definitions/name"
        },
        "key": {
          "$ref": "definitions.json#/definitions/key"
        }
      }
    },
    "keyInfoItems": {
      "type": "object",
      "properties": {
        "guidance": {
          "$ref": "definitions.json#/definitions/guidance"
        },
        "keyInformationItems": {
          "type": "array",
          "items": [
            {
              "$ref": "definitions.json#/definitions/keyInfoItem"
            }
          ]
        }
      }
    }
  }
}
